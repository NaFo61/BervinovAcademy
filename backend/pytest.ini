[pytest]
DJANGO_SETTINGS_MODULE = school_platform.settings
python_files = test_*.py *_tests.py
python_classes = Test*
python_functions = test_*
testpaths = content/tests users/tests
norecursedirs = .env .git __pycache__ migrations venv .venv

# Маркеры для категоризации тестов
markers =
    fast: Быстрые тесты без БД (unit-тесты)
    slow: Медленные тесты с БД (интеграционные)
    performance: Тесты производительности
    smoke: Дымовые тесты для быстрой проверки
    critical: Критически важные тесты
    user: Тест моделей пользователей

# Настройки вывода
addopts =
    --strict-markers
    --tb=short
    --verbose
    --reuse-db
    --showlocals
    --no-migrations
    -p no:cacheprovider
